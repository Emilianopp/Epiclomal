__PIPELINE_INFO__: 
    name: 'epiclomal_real'
    version: '1.0.0'
    author: 'mandronescu@bccrc.ca'
    data_type: null
    input_type: ''
    output_type: 'tsv'
    host_cluster: 
    date_created: '2017-04-17'
    factory_version: '2.1.0'
__GENERAL__: 
__SHARED__:
__SAMPLES__:
 ################################################################################
__TASK_SIMPLE_EPICLUST__: 
    reserved: 
        # do not change this section.
        component_name: 'run_simple_epiclustering'
        component_version: '0.99.0'
        seed_version: '0.99.0'
    run:
        use_cluster: ('__SHARED__', 'use_cluster')
        memory: ('__SHARED__', 'memory')
        num_cpus: 1
        forced_dependencies: []
        add_breakpoint: False
        env_vars:
            R_LIBS: ('__SHARED__', 'r_libs')
            LD_LIBRARY_PATH: ('__SHARED__', 'ld_library_path')
            PATH: ('__SHARED__', 'path')
        requirements:
            Rscript:
            simple_epiclust:
            evaluate_clustering_software:
        boilerplate: 
        parallel_run: False
        parallel_params: []
    component:
        input_files:
            #data_dir: ('__SHARED__', 'data_dir')
            methylation_file: ('__SAMPLES__', 'methylation_file')
            regions_file: ('__SAMPLES__', 'regions_file')
            true_clone_membership_file: ('__SHARED__', 'true_clone_membership_file')
        output_files: 
            output_directory: 'simple_hclust/'
        parameters: 
            max_k: ('__SHARED__', 'simple_hclust_maxkcut')
            true_prevalences: None
################################################################################
__TASK_BASIC_EPICLOMAL__: 
# REPEATED
# No copy number
    reserved: 
        # do not change this section.
        component_name: 'run_epiclomal'
        component_version: '0.99.0'
        seed_version: '0.99.0'
    run:
        use_cluster: ('__SHARED__', 'use_cluster')
        memory: ('__SHARED__', 'memory')
        num_cpus: 1
        forced_dependencies: ['__TASK_SIMPLE_EPICLUST__']
        add_breakpoint: False
        env_vars:
            R_LIBS: ('__SHARED__', 'r_libs')
            LD_LIBRARY_PATH: ('__SHARED__', 'ld_library_path')
            PATH: ('__SHARED__', 'path')
        requirements:
            python:
            epiclomal:            
        boilerplate:         
        parallel_run: True
        parallel_params: []
        interval_file: ('__SAMPLES__', 'epiclomal_runs')
    component:
        input_files:
            # data_dir: ('__SHARED__', 'data_dir')
            config_file: ('__SHARED__', 'epiclomal_config')
        output_files: 
            out_dir: 'epiclomal_basic/'
        parameters: 
            model: 'Basic-GeMM'
            methylation_file: ('__SAMPLES__', 'methylation_file')
            bulk_file: ('__SHARED__', 'bulk_file')
            initial_clusters_file: 'simple_hclust/initial_inputs.tsv.gz'
            regions_file: None
            copynumber_file: None
            K: ('__SAMPLES__', 'K')               
            true_clusters_file: ('__SHARED__', 'true_clone_membership_file') 
            true_epigenotypes_file: None            
################################################################################
__TASK_REGION_EPICLOMAL__: 
# No copy number
    reserved: 
        # do not change this section.
        component_name: 'run_epiclomal'
        component_version: '0.99.0'
        seed_version: '0.99.0'
    run:
        use_cluster: ('__SHARED__', 'use_cluster')
        memory: ('__SHARED__', 'memory')
        num_cpus: 1
        forced_dependencies: ['__TASK_SIMPLE_EPICLUST__']
        add_breakpoint: False
        env_vars:
            R_LIBS: ('__SHARED__', 'r_libs')
            LD_LIBRARY_PATH: ('__SHARED__', 'ld_library_path')
            PATH: ('__SHARED__', 'path')
        requirements:
            python:
            epiclomal:            
        boilerplate:         
        parallel_run: True
        parallel_params: []
        interval_file: ('__SAMPLES__', 'epiclomal_runs')
    component:
        input_files:
            #data_dir: ('__SHARED__', 'data_dir')
            config_file: ('__SHARED__', 'epiclomal_config')
        output_files: 
            out_dir: 'epiclomal_region/'
        parameters: 
            model: 'Region-GeMM'
            methylation_file: ('__SAMPLES__', 'methylation_file')
            bulk_file: ('__SHARED__', 'bulk_file')            
            initial_clusters_file: 'simple_hclust/initial_inputs.tsv.gz'
            regions_file: ('__SAMPLES__', 'regions_file')
            copynumber_file: None
            true_clusters_file: ('__SHARED__', 'true_clone_membership_file') 
            true_epigenotypes_file: None            
            K: ('__SAMPLES__', 'K')            
################################################################################            
__TASK_EVAL_BASIC_EPICLOMAL__:
    reserved: 
        # do not change this section.
        component_name: 'eval_epiclomal'
        component_version: '0.99.0'
        seed_version: '0.99.0'
    run:
        use_cluster: ('__SHARED__', 'use_cluster')
        memory: '4G'
        num_cpus: 1
        forced_dependencies: ['__TASK_BASIC_EPICLOMAL__']
        add_breakpoint: False
        env_vars:
            R_LIBS: ('__SHARED__', 'r_libs')
            LD_LIBRARY_PATH: ('__SHARED__', 'ld_library_path')
            PATH: ('__SHARED__', 'path')
        requirements:
            Rscript:
            python:
            hdist_software:
            visualization_software:      
        boilerplate: 
        parallel_run: False
        parallel_params: []
    component:
        input_files:
            input_dir: 'epiclomal_basic/'
        output_files: 
            output_dir: "results_basic/"
        parameters: 
            model_name: "basic"
            methylation_file: ('__SAMPLES__', 'methylation_file')
            regions_file: ('__SAMPLES__', 'regions_file')
            true_clusters_file: ('__SHARED__', 'true_clone_membership_file') 
            true_epigenotypes_file: None                
################################################################################            
__TASK_EVAL_REGION_EPICLOMAL__:
    reserved: 
        # do not change this section.
        component_name: 'eval_epiclomal'
        component_version: '0.99.0'
        seed_version: '0.99.0'
    run:
        use_cluster: ('__SHARED__', 'use_cluster')
        memory: '4G'
        num_cpus: 1
        forced_dependencies: ['__TASK_REGION_EPICLOMAL__']
        add_breakpoint: False
        env_vars:
            R_LIBS: ('__SHARED__', 'r_libs')
            LD_LIBRARY_PATH: ('__SHARED__', 'ld_library_path')
            PATH: ('__SHARED__', 'path')   
        requirements:
            Rscript:
            python:
            hdist_software:
            visualization_software:                     
        boilerplate: 
        parallel_run: False
        parallel_params: []
    component:
        input_files:
            input_dir: 'epiclomal_region/'
        output_files: 
            output_dir: "results_region/"
        parameters: 
            model: "region"            
            methylation_file: ('__SAMPLES__', 'methylation_file')
            regions_file: ('__SAMPLES__', 'regions_file')
            true_clusters_file: ('__SHARED__', 'true_clone_membership_file') 
            true_epigenotypes_file: None                
